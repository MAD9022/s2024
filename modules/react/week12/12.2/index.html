<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>12.2 NextJS Routing | MAD9022</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="Fullstack: Frontend Development Course">
    
    <link rel="preload" href="/s2024/assets/css/0.styles.0189e570.css" as="style"><link rel="preload" href="/s2024/assets/js/app.800de6cb.js" as="script"><link rel="preload" href="/s2024/assets/js/2.65264708.js" as="script"><link rel="preload" href="/s2024/assets/js/20.3f3d5c16.js" as="script"><link rel="preload" href="/s2024/assets/js/9.005e1e8c.js" as="script"><link rel="prefetch" href="/s2024/assets/js/10.912d3f44.js"><link rel="prefetch" href="/s2024/assets/js/11.87711128.js"><link rel="prefetch" href="/s2024/assets/js/12.1ad3b3b9.js"><link rel="prefetch" href="/s2024/assets/js/13.5c6eca3c.js"><link rel="prefetch" href="/s2024/assets/js/14.a39ca56d.js"><link rel="prefetch" href="/s2024/assets/js/15.fea1e72e.js"><link rel="prefetch" href="/s2024/assets/js/16.6b8223ef.js"><link rel="prefetch" href="/s2024/assets/js/17.db7cf2f4.js"><link rel="prefetch" href="/s2024/assets/js/18.7759db48.js"><link rel="prefetch" href="/s2024/assets/js/19.bb0f2052.js"><link rel="prefetch" href="/s2024/assets/js/21.23f944a3.js"><link rel="prefetch" href="/s2024/assets/js/22.32b2777d.js"><link rel="prefetch" href="/s2024/assets/js/23.aa560bd2.js"><link rel="prefetch" href="/s2024/assets/js/24.1160513f.js"><link rel="prefetch" href="/s2024/assets/js/25.257a77d2.js"><link rel="prefetch" href="/s2024/assets/js/26.9c34cefb.js"><link rel="prefetch" href="/s2024/assets/js/27.b2ff0a06.js"><link rel="prefetch" href="/s2024/assets/js/28.d09f9311.js"><link rel="prefetch" href="/s2024/assets/js/29.a0941762.js"><link rel="prefetch" href="/s2024/assets/js/3.544714c7.js"><link rel="prefetch" href="/s2024/assets/js/30.47ebd370.js"><link rel="prefetch" href="/s2024/assets/js/31.ece81fbc.js"><link rel="prefetch" href="/s2024/assets/js/32.ae206ed9.js"><link rel="prefetch" href="/s2024/assets/js/33.9514a6a6.js"><link rel="prefetch" href="/s2024/assets/js/34.583d401c.js"><link rel="prefetch" href="/s2024/assets/js/35.e656cbcf.js"><link rel="prefetch" href="/s2024/assets/js/36.cacc60df.js"><link rel="prefetch" href="/s2024/assets/js/37.1d4e63ca.js"><link rel="prefetch" href="/s2024/assets/js/38.4711b180.js"><link rel="prefetch" href="/s2024/assets/js/39.28fe2c35.js"><link rel="prefetch" href="/s2024/assets/js/4.a59aad47.js"><link rel="prefetch" href="/s2024/assets/js/40.7a728e12.js"><link rel="prefetch" href="/s2024/assets/js/41.102054ba.js"><link rel="prefetch" href="/s2024/assets/js/42.e4927ef8.js"><link rel="prefetch" href="/s2024/assets/js/43.991ea947.js"><link rel="prefetch" href="/s2024/assets/js/44.8db11b89.js"><link rel="prefetch" href="/s2024/assets/js/45.8da8f59f.js"><link rel="prefetch" href="/s2024/assets/js/46.e4ae4586.js"><link rel="prefetch" href="/s2024/assets/js/47.3a64f81f.js"><link rel="prefetch" href="/s2024/assets/js/48.85a59034.js"><link rel="prefetch" href="/s2024/assets/js/49.d9dd3379.js"><link rel="prefetch" href="/s2024/assets/js/5.6426ebe4.js"><link rel="prefetch" href="/s2024/assets/js/50.51e2c9f2.js"><link rel="prefetch" href="/s2024/assets/js/51.bcc581ae.js"><link rel="prefetch" href="/s2024/assets/js/52.42daf800.js"><link rel="prefetch" href="/s2024/assets/js/6.2beeeb0e.js"><link rel="prefetch" href="/s2024/assets/js/7.64cbf74e.js"><link rel="prefetch" href="/s2024/assets/js/8.e15ce9b2.js">
    <link rel="stylesheet" href="/s2024/assets/css/0.styles.0189e570.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/s2024/" class="home-link router-link-active"><img src="/s2024/mad-d-logo-sm.png" alt="MAD9022" class="logo"> <span class="site-name can-hide">MAD9022</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/s2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/s2024/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/s2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/s2024/overview/" class="nav-link">
  Overview
</a></div><div class="nav-item"><a href="/s2024/assignments/" class="nav-link">
  Deliverables
</a></div><div class="nav-item"><a href="/s2024/resources/" class="nav-link">
  Resources
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Hybrid</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>PWA</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>React</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/s2024/modules/react/week9/9.1/" class="sidebar-link">9.1: React Concepts</a></li><li><a href="/s2024/modules/react/week9/9.2/" class="sidebar-link">9.2: React Setup</a></li><li><a href="/s2024/modules/react/week10/10.1/" class="sidebar-link">10.1: JSX &amp; Components</a></li><li><a href="/s2024/modules/react/week10/10.2/" class="sidebar-link">10.2: Conditional Rendering, Data, and State</a></li><li><a href="/s2024/modules/react/week11/11.1/" class="sidebar-link">11.1: Synthetic Events and Props</a></li><li><a href="/s2024/modules/react/week11/11.2/" class="sidebar-link">11.2: Refs, Axios, Fetch, and Spinners</a></li><li><a href="/s2024/modules/react/week12/12.1/" class="sidebar-link">12.1: NextJS Intro</a></li><li><a href="/s2024/modules/react/week12/12.2/" aria-current="page" class="active sidebar-link">12.2: NextJS Routing</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#nextjs-routing" class="sidebar-link">NextJS Routing</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#dynamic-routes" class="sidebar-link">Dynamic Routes</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#client-and-server-components" class="sidebar-link">Client and Server Components</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#nextjs-built-in-components" class="sidebar-link">NextJS Built-in Components</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#linking-and-navigating" class="sidebar-link">Linking and Navigating</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#current-pathname-and-usepathname" class="sidebar-link">Current Pathname and usePathname</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#userouter-hook-for-programmatic-navigation" class="sidebar-link">useRouter Hook for Programmatic Navigation</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#usesearchparams-hook-for-the-querystring" class="sidebar-link">useSearchParams Hook for the QueryString</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#redirect-method-for-programmatic-navigation" class="sidebar-link">redirect method for Programmatic Navigation</a></li></ul></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#route-handlers" class="sidebar-link">Route Handlers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#route-handler-params" class="sidebar-link">Route Handler Params</a></li></ul></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#caching" class="sidebar-link">Caching</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#revalidation-of-data" class="sidebar-link">Revalidation of Data</a></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#caching-page-js-files" class="sidebar-link">Caching page.js Files</a></li></ul></li><li class="sidebar-sub-header"><a href="/s2024/modules/react/week12/12.2/#what-to-do-this-week" class="sidebar-link">What to do this week</a></li></ul></li><li><a href="/s2024/modules/react/week13/13.1/" class="sidebar-link">13.1: NextJS APIs, Actions, &amp; Middleware</a></li><li><a href="/s2024/modules/react/week13/13.2/" class="sidebar-link">13.2: Styling and Theming</a></li><li><a href="/s2024/modules/react/week14/14.1/" class="sidebar-link">14.1: TypeScript and Pair Programming</a></li><li><a href="/s2024/modules/react/week14/14.2/" class="sidebar-link">14.2: Authentication</a></li><li><a href="/s2024/modules/react/week15/" class="sidebar-link">15: NextJS Project</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><header><div class="section-title blue">
    React | NextJS
  </div> <h1>12.2 NextJS Routing</h1> <div class="underdev no">Module Still Under Development</div></header> <h2 id="nextjs-routing"><a href="#nextjs-routing" class="header-anchor">#</a> NextJS Routing</h2> <p>Last module we talked about the idea of having folders for different routes, plus a few of the special file names that have predefined functionality.</p> <div class="custom-block tip"><p class="custom-block-title">NextJS - Convention over Configuration</p> <p>NextJS expects developers to follow naming conventions for files and folders, not create settings files, when building their web app.</p></div> <p>Now, we will do a deeper dive and discuss more of the routing conventions.</p> <p><a href="https://nextjs.org/docs/app/api-reference/file-conventions" target="_blank" rel="noopener noreferrer">File Conventions reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>NextJS includes server-side code that runs through NodeJS. This server-side code handles the routes for the website. Nearly every folder that you create inside of the <code>/app</code> folder will become a
route. You merely need to add a file called <code>page.jsx</code> inside every folder that you want to be a route.</p> <div class="custom-block tip"><p class="custom-block-title">NextJS - Just Like Express</p> <p>NextJS apps can be thought of like an Express app. Just like in MAD9124, you are building a server-side application with endpoints.</p> <p>In NextJS, the endpoints are either a <code>page.js</code> file or a <code>route.js</code> file.</p> <p>Page.js files return HTML files.</p> <p>Route.js files can return any file type (but typically return JSON).</p></div> <p>Using the following folder structure as your project's <code>/app/</code>.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app
├── components
│   └── Person.js
│   └── Person.module.css
├── people
│   └── page.js
├── place
│   └── new
│   │    └── page.js
│   └── page.js
├── things
│   └── new
│   │    └── page.js
│   └── page.js
├── global.css
├── layout.js
└── page.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>When you run <code>npm run dev</code>, NextJS will create the following routes for your app. Each <code>page.jsx</code> file will be a web page at this end points. Folders, like <code>components</code>, that don't have a <code>page.js</code> or
<code>route.js</code> file will NOT be seen as a valid endpoint.</p> <ul><li><code>http://localhost:3000/</code></li> <li><code>http://localhost:3000/people</code></li> <li><code>http://localhost:3000/place</code></li> <li><code>http://localhost:3000/place/new</code></li> <li><code>http://localhost:3000/things</code></li> <li><code>http://localhost:3000/things/new</code></li></ul> <p>Inside the <code>components</code> folder, there is no <code>page.js</code> file, so it will not become a route for the web site. The jsx files inside <code>components</code> are components that will be imported and used in the
various <code>page.js</code> files. If you try to visit the <code>http://localhost:3000/components</code> endpoint you will get a 404 error.</p> <p>The <code>global.css</code> file will contain CSS styles which are used by every page and every component.</p> <p>The <code>*.module.css</code> files are the CSS modules that will be imported by and attached to a jsx component.</p> <h2 id="dynamic-routes"><a href="#dynamic-routes" class="header-anchor">#</a> Dynamic Routes</h2> <p>When you are creating the folders inside <code>/app</code>, you are defining the paths that will be available for your website. Create a folder called <code>/app/about</code> with a <code>page.jsx</code> file inside and you have
created the local route <code>http://localhost:3000/about</code>. On an external host it will still be the path <code>/about</code>.</p> <p>This is create if you know the names of every part of the paths. This is not always the case though. Sometimes the parts of path are ids for objects or product categories and names. Here are a few
examples of where different dynamic paths would be useful:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/products/automotive/tires
/products/grocery/produce/lettuce
/movies/1234
/users/new
/users/543
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>With the first two endpoints, think of a store like Walmart. <code>products</code> would be the first folder. It's <code>page.jsx</code> file could display a search form, or maybe a grid of recommended or on-sale products.
The next part of the first two endpoints is a department value. Now, instead of creating an <code>automotive</code> folder and a <code>grocery</code> folder, we can create a single folder called <code>[department]</code>. The square
brackets are part of the name. Now, the actual URL can use anything as the second part of the path.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app
├── products
│   └── [department]
│   │    └── page.js
│   └── page.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>With this structure, the <code>page.js</code> file inside of <code>[department]</code> can access the value used as the department through the <code>props</code> object and its <code>params</code> property.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// /app/products/[department]/page.jsx</span>

<span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//with the urls /products/grocery or /products/automotive</span>
  <span class="token comment">//the value of params.department will be `grocery` or `automotive`</span>
  <span class="token keyword">const</span> department <span class="token operator">=</span> params<span class="token punctuation">.</span>department<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>When you want to be able to handle a dynamic number of path segments with a single file, then we could handle both of these routes <code>/products/automotive/tires</code> and <code>/products/grocery/produce/lettuce</code>.</p> <p>Instead of calling the folder <code>[department]</code> we could use a name like <code>[...category]</code>. The square brackets and the three periods are part of the name. The <code>params</code> object will have a property called
<code>category</code>. In this case, the value of <code>category</code> will be an Array, not a String.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// /app/products/[...category]/page.jsx</span>
<span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params<span class="token punctuation">,</span> searchParams <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//with the urls /products/grocery or /products/automotive/tires or /products/grocery/produce/lettuce</span>
  <span class="token comment">//the value of params.category will be an array with 1, 2, or 3 items</span>
  <span class="token keyword">const</span> category <span class="token operator">=</span> params<span class="token punctuation">.</span>category<span class="token punctuation">;</span>
  <span class="token keyword">const</span> numSegments <span class="token operator">=</span> category<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
  <span class="token comment">//the searchParams object holds all the properties in the querystring</span>
  <span class="token comment">/*
  ['grocery'] for endpoint /products/grocery
  ['automotive', 'tires'] for endpoint /products/automotive/tires
  ['grocery', 'produce', 'lettuce'] for endpoint /products/grocery/produce/lettuce
  */</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>The folder names with <code>...</code> are known as catch-all routes. So, if you build this folder structure:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>app
├── products
│   └── [...department]
│   │    └── page.js
│   └── page.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Then you would have <code>/products</code> as a valid endpoint handled by <code>/app/products/page.js</code>.</p> <p>The <code>/app/products/[...department]/page.js</code> file will handle any route that starts with <code>/products/</code>. Every segment of the path after it will become another value in the <code>params.department</code> array.</p> <p>Now, you can create any folders that you want. Putting a <code>route.js</code> or a <code>page.js</code> file inside the folder makes it something that will return a response. A folder without either of those files will
still be part of the path but you will have an error if the user types an endpoint that stops at that folder.</p> <p>There is a solution for this though. If you want to create a folder just to use to organize its sub-folders, then simply wrap the name with parentheses.</p> <p>In the following example <code>(places)</code> will not be part of any URL. It is just a logical container to hold the ottawa and montreal folders. <code>ottawa</code> and <code>montreal</code> will be part of the URL. These are the
four urls for the following directory structure.</p> <ul><li><code>/names</code></li> <li><code>/things</code></li> <li><code>/ottawa</code></li> <li><code>/montreal</code></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>app
├── names
│   └── page.js
├── things
│   └── page.js
├── (places)
│   └── ottawa
│   │    └── page.js
│   └── montreal
│        └── page.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="client-and-server-components"><a href="#client-and-server-components" class="header-anchor">#</a> Client and Server Components</h2> <p>One of the big differences with a typical React application or a NextJS application version 12 or lower, and a NextJS application of version 13 or higher, is the separation of components into
server-side and client-side rendering.</p> <p>By default, pages and components will be rendered on the server. The rendered content will be sent to the browser. If you want you can add the <code>use server</code> directive at the top of any component to
make it clear that the component is being rendered on the server side. The directive is just a string on the first line of the file, like this:</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">'use server'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>One advantage of server-side components is that there will actually be content in the HTML that is sent to the browser. This improves the SEO of the website.</p> <p>If the content is already generated then not nearly as big a JavaScript bundle needs to be sent to the client, saving time, improving performance, and increasing search engine page rank.</p> <p>If you have a server-side component and it is making fetch calls, then even more content is being built on the server, before being sent to the client. With server-side fetch calls, you can include
things like private API keys in the code and they will never be sent to the browser, keeping them private.</p> <p>If you need to work with the DOM and user interactions, on buttons or links, and submits, and clicks, then you need to use a client-side component. To mark a component as running on the client, add
the <code>use client</code> directive at the top of the component file.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">'use client'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>You can always nest client-side components inside of server-side ones, but not the other way.</p> <h2 id="nextjs-built-in-components"><a href="#nextjs-built-in-components" class="header-anchor">#</a> NextJS Built-in Components</h2> <p>There are several built-in components in NextJS that you can import and use in your page or component.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> Image <span class="token keyword">from</span> <span class="token string">'next/script'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Link <span class="token keyword">from</span> <span class="token string">'next/script'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Lato<span class="token punctuation">,</span> Merriweather <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/font/google'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Script <span class="token keyword">from</span> <span class="token string">'next/script'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><a href="https://nextjs.org/docs/app/api-reference/components/image" target="_blank" rel="noopener noreferrer"><code>&lt;Image&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>The <code>&lt;Image&gt;</code> component is built with JSX and comes with a long list of available props including <code>onLoad</code> and <code>onError</code> which are functions that will be called when the image has finished loading, or
when there is a failure to load the image.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Image</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/avatar.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">250</span><span class="token punctuation">}</span></span> <span class="token attr-name">height</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">250</span><span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>User avatar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onLoad</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token attr-name">onError</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><a href="https://nextjs.org/docs/app/api-reference/components/link" target="_blank" rel="noopener noreferrer"><code>&lt;Link&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>The <code>&lt;Link&gt;</code> component extends the HTML <code>&lt;a&gt;</code> element to provide prefetching and client-side navigation between routes. It is the primary way to navigate between routes in NextJS. You can pass either
a string or an object to the <code>href</code> property.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/pageOne<span class="token punctuation">&quot;</span></span> <span class="token attr-name">prefetch</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">true</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">One</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span>
  <span class="token attr-name">href</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
    <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token string">'/pageTwo'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">query</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'test'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
  <span class="token attr-name">prefetch</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token boolean">false</span><span class="token punctuation">}</span></span>
<span class="token punctuation">&gt;</span></span><span class="token plain-text">
  Two
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>The <code>prefetch</code> attribute, if set to <code>true</code>, means that NextJS will prefetch the contents of that page, when the link appears in the viewport, in the background and hold it in memory until the user
actually navigates to that route.</p> <p><a href="https://nextjs.org/docs/app/api-reference/components/font" target="_blank" rel="noopener noreferrer"><code>&lt;Font&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>The <code>next/font</code> component lets you use either Google Fonts or locally hosted fonts. Ideally you should use this in the <code>layout.jsx</code>. Any of the google fonts that you want to use can be imported as a
function through <code>next/font/google</code>. Call the imported function and it will return an object with a <code>className</code> property. You can use that in any JSX element as the value for a <code>className</code> attribute.
Typically this is done on the <code>&lt;html&gt;</code> element in the <code>layout.jsx</code> file.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Lato <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/font/google'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> lato <span class="token operator">=</span> <span class="token function">Lato</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">weight</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'300'</span><span class="token punctuation">,</span> <span class="token string">'500'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token string">'normal'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">subsets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'latin'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'swap'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">RootLayout</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> children <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>lato<span class="token punctuation">.</span>className<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>If you are using multiple fonts, you can import all the functions and call each of the functions to create a series of objects. This is usually done in a separate file called <code>fonts.js</code> inside <code>/app/</code>
and then imported.</p> <p>If you want to use a local font, then import the <code>localFont</code> function from <code>next/font/local</code>.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> localFont <span class="token keyword">from</span> <span class="token string">'next/font/local'</span><span class="token punctuation">;</span>

<span class="token comment">// Font files can be colocated inside of `app`</span>
<span class="token keyword">const</span> myFont <span class="token operator">=</span> <span class="token function">localFont</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">src</span><span class="token operator">:</span> <span class="token string">'./my-font.woff2'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'swap'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Then call the <code>localFont</code> function to load the local font and create a className property to be used in the <code>&lt;body&gt;</code> element.</p> <p><a href="https://nextjs.org/docs/app/api-reference/components/script" target="_blank" rel="noopener noreferrer"><code>&lt;Script&gt;</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>If you need to load an external script for a specific page within your site, and you only need it for a specific route, then you can import and use the NextJS component.</p> <h2 id="linking-and-navigating"><a href="#linking-and-navigating" class="header-anchor">#</a> Linking and Navigating</h2> <p>When building your NextJS app, the recommended approach is to use the <code>&lt;Link&gt;</code> component as described above.</p> <p>NextJS uses partial rendering. Partial rendering means only the route segments that change on navigation re-render on the client, and any shared segments are preserved.</p> <h3 id="current-pathname-and-usepathname"><a href="#current-pathname-and-usepathname" class="header-anchor">#</a> Current Pathname and usePathname</h3> <p>When building your Links, if you want to compare their <code>href</code> against the current url, so that you can style the link as the current active page, then use the <code>usePathname</code> hook. It will return the
current pathname from the URL.</p> <p>This is a client-side hook.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">'use client'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> usePathname <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/navigation'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Link <span class="token keyword">from</span> <span class="token string">'next/link'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">MenuBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">usePathname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">link </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path <span class="token operator">===</span> <span class="token string">'/'</span> <span class="token operator">?</span> <span class="token string">'active'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/one<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        One
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">link </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path <span class="token operator">===</span> <span class="token string">'/two'</span> <span class="token operator">?</span> <span class="token string">'active'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/two<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        Two
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Link</span></span> <span class="token attr-name">className</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">link </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>path <span class="token operator">===</span> <span class="token string">'/three'</span> <span class="token operator">?</span> <span class="token string">'active'</span> <span class="token operator">:</span> <span class="token string">''</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/three<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        Three
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Link</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>If the value of the path variable matches the current pathname from the URL, then we are adding the <code>active</code> CSS className to the element.</p> <h3 id="userouter-hook-for-programmatic-navigation"><a href="#userouter-hook-for-programmatic-navigation" class="header-anchor">#</a> useRouter Hook for Programmatic Navigation</h3> <p>If you want to navigate to different parts of your app based on different user interactions, and you are not going to have a <code>&lt;Link&gt;</code> in the component, then you will want to use the <code>useRouter</code> hook.</p> <div class="custom-block danger"><p class="custom-block-title">useRouter is a Client Side hook</p> <p>You can only use the <code>useRouter</code> hook on client-side rendered components.</p> <p>This means adding the <code>use client</code> directive at the top of the file.</p></div> <p>The <code>useRouter</code> hook will return a router object that you can use within any JavaScript function in your page or component. The router object will have a <code>push()</code> method that accepts a route. When
called, it will navigate to the provided route.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">'use client'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/navigation'</span><span class="token punctuation">;</span>
<span class="token comment">//NOTE this comes from next/navigation NOT next/router</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/about'</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
      About Us
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>The router object also has <code>router.prefetch</code>, <code>router.refresh</code>, <code>router.back</code>, and <code>router.forward</code> methods. The <code>prefetch</code> method works like a <code>&lt;Link&gt;</code> component with the <code>prefetch</code> attribute set to
true.</p> <p>The <code>router.refresh</code> method refreshes the current route by making new server requests for the content required for the current route.</p> <p>The <code>back</code> and <code>forward</code> methods navigate backwards and forwards in the browser history array.</p> <h3 id="usesearchparams-hook-for-the-querystring"><a href="#usesearchparams-hook-for-the-querystring" class="header-anchor">#</a> useSearchParams Hook for the QueryString</h3> <p><code>useSearchParams</code> is another client-side hook that lets you read the value of the querystring and access each of the parameters and their values. It creates a <code>URLSearchParams</code> object.</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token string">'use client'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useSearchParams <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/navigation'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">SearchBar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> searchParams <span class="token operator">=</span> <span class="token function">useSearchParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> search <span class="token operator">=</span> searchParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'search'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token comment">/* render your component here */</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="redirect-method-for-programmatic-navigation"><a href="#redirect-method-for-programmatic-navigation" class="header-anchor">#</a> redirect method for Programmatic Navigation</h3> <p>If you have a <strong>server-side</strong> component that needs to programmatically navigate then you can do that with the <code>redirect</code> method.</p> <div class="custom-block danger"><p class="custom-block-title">server-side navigation</p> <p><code>redirect</code> is a server-side way to create programmatic navigation.</p></div> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> redirect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'next/navigation'</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fetchData</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'https://...'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">Profile</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetchData</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>info<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token string">'/login'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//if no data came back from the api send the user to the login page</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token comment">/* info is available so render it here */</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="route-handlers"><a href="#route-handlers" class="header-anchor">#</a> Route Handlers</h2> <p>In versions of NextJS before 13, you could create a folder called <code>api</code> and it would become a folder that you could use to create API end points. These folders inside <code>api</code> are known as route
handlers.</p> <p>In the newer versions of NextJS, you can use any folder as a route handler location. Simply use a file called <code>route.js</code> instead of <code>page.js</code>. Any folder inside of <code>/app</code> is allowed to have either
<code>page.js</code> OR <code>route.js</code>, not both.</p> <blockquote><p>The <code>route.js</code> files are called route handlers.</p></blockquote> <p>Inside a <code>route.js</code> file you define one or more functions that you export (NOT default export). Each of these functions need to be named after the HTTP verbs.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//will handle GET requests to this endpoint</span>
  <span class="token comment">//the request object is passed in</span>
  <span class="token comment">//a response object is to be returned</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">'Some content'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'content-type'</span><span class="token operator">:</span> <span class="token string">'text/plain'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token constant">POST</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//will handle POST requests to this endpoint</span>
  <span class="token comment">//the request object is passed in</span>
  <span class="token comment">//a response object is to be returned</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span><span class="token string">'&lt;html&gt;&lt;body&gt;&lt;h1&gt;Title&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'content-type'</span><span class="token operator">:</span> <span class="token string">'text/html'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token constant">DELETE</span><span class="token punctuation">(</span><span class="token parameter">request</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//will handle DELETE requests to this endpoint</span>
  <span class="token comment">//the request object is passed in</span>
  <span class="token comment">//a response object is to be returned</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Steve'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Response</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token literal-property property">header</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">'content-type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">Route.js files Return Anything</p> <p>Remember that a <code>page.js</code> file will always return an HTTP Response containing an HTML file.</p> <p>A <code>route.js</code> file will also return an HTTP Response, but you get to choose and control the headers and decide what TYPE of file is returned.</p></div> <h3 id="route-handler-params"><a href="#route-handler-params" class="header-anchor">#</a> Route Handler Params</h3> <p>Just like when you create a <code>page.js</code> file inside a dynamic route, you can do the same thing for a <code>route.js</code> file.</p> <p>If you have a folder called <code>[location]</code> inside the <code>api</code> folder, then Next.js will create a props property called <code>location</code> which represents the segment of the URL after <code>api</code>. In the following code
example, notice the second argument being passed into the <code>GET</code> function. The first argument will always be the Request object. The second will be a <code>params</code> object, like the one you see in the
<code>page.js</code> default function.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// /api/[location]/route.js</span>

<span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> <span class="token punctuation">{</span> params <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> location <span class="token operator">=</span> params<span class="token punctuation">.</span>location<span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// the value of the url segment represented by [location]</span>
  <span class="token keyword">const</span> searchParams <span class="token operator">=</span> request<span class="token punctuation">.</span>nextUrl<span class="token punctuation">.</span>searchParams<span class="token punctuation">;</span>
  <span class="token keyword">const</span> query <span class="token operator">=</span> searchParams<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span><span class="token string">'query'</span><span class="token punctuation">)</span> <span class="token operator">?</span> searchParams<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'query'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">'default query value'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>The last two lines inside of the <code>GET</code> function are reading the value of the <code>query</code> param in the querystring. Say that a <code>page.js</code> file was making a fetch call to
<code>http://localhost:3000/api/ottawa?query=Algonquin</code>.</p> <p>The value of <code>location</code> will be <code>ottawa</code>, and the value of <code>query</code> will be <code>Algonquin</code>.</p> <h2 id="caching"><a href="#caching" class="header-anchor">#</a> Caching</h2> <p>As a user navigates between routes, Next.js caches visited route segments and prefetches the routes the user is likely to navigate to (based on <Link> components in their viewport).</Link></p> <p>NextJS likes to cache as much as possible, by default.</p> <p>You may see the Router Cache being referred to as Client-side Cache or Prefetch Cache. While Prefetch Cache refers to the prefetched route segments, Client-side Cache refers to the whole Router cache,
which includes both visited and prefetched segments. This cache specifically applies to Next.js and Server Components, and is different to the browser's built-in caching, though it has a similar
result.</p> <p>So, on the server-side, the caching takes place for generated content as well as for fetch calls.</p> <p>If you make a fetch call from either a <code>route.js</code> or a <code>page.js</code> then NextJS is going to want to cache the response. It does this to save time and network bandwidth on future calls to the same
endpoint. It also memoizes the results.</p> <p>You can control this caching with the options object in the <code>fetch</code> call.</p> <p>The <code>cache</code> setting has a default value of <code>force-cache</code>. This means that every fetch response will be cached. Alternatively, you could set the value of <code>cache</code> to <code>no-store</code> meaning that it never
gets cached.</p> <p>Every response, whether cached or not, gets memoized. This means it is saved temporarily, in memory, to avoid multiple fetch calls within the same React render process.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//a server-side component</span>
<span class="token keyword">function</span> <span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'https://example.com/api/movies/search?q=star%20wars'</span><span class="token punctuation">;</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">cache</span><span class="token operator">:</span> <span class="token string">'force-cache'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>resp<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'failed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> resp<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//handle data</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//handle error</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>The <code>{ cache: ''}</code> setting in the fetch call will be used to set the actual HTTP Response <code>cache-control</code> header value.</p> <h3 id="revalidation-of-data"><a href="#revalidation-of-data" class="header-anchor">#</a> Revalidation of Data</h3> <p><img src="/s2024/assets/img/time-based-revalidation2.315c0674.png" alt="Time based revalidation of data in NextJS"></p> <p>If you want to limit the caching and revalidate the contents of a response every so often then you can add a <code>next</code> setting in the fetch options. The <code>next</code> property takes an object with a
<code>revalidate</code> property that holds a number of seconds to wait before refreshing the response from the cache.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//a server-side component</span>
<span class="token keyword">function</span> <span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> url <span class="token operator">=</span> <span class="token string">'https://example.com/api/movies/search?q=star%20wars'</span><span class="token punctuation">;</span>
  <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token literal-property property">revalidate</span><span class="token operator">:</span> <span class="token number">3600</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">//.....</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>For a full list of the rendering and caching methods in NextJS <a href="https://nextjs.org/docs/app/building-your-application/caching#apis" target="_blank" rel="noopener noreferrer">visit this page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>This <a href="https://nextjs.org/docs/app/building-your-application/routing/defining-routes" target="_blank" rel="noopener noreferrer">reference is the section on routing with NextJS<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="caching-page-js-files"><a href="#caching-page-js-files" class="header-anchor">#</a> Caching page.js Files</h3> <p>So, we have seen how to control caching with <code>fetch</code> calls.</p> <p>It is also possible to control caching for a <code>layout.js</code>, <code>page.js</code>, or <code>route.js</code> files. The default behaviour for NextJs when building a <code>page.js</code> response, is to cache the constructed file. There
are a couple properties that you can set in your file to control the server-side and client-side caching of the HTML.</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// page.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> dynamic <span class="token operator">=</span> <span class="token string">'force-dynamic'</span><span class="token punctuation">;</span>
<span class="token comment">// 'auto' | 'force-dynamic' | 'error' | 'force-static'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> revalidate <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//cache page for 10 seconds, rebuild after that</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Some page<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Setting <code>const dynamic = 'force-dynamic'</code> is equivalent to setting <code>{ cache: 'no-store', next: { revalidate: 0 } }</code> as the options in a fetch call.</p> <p>The <code>revalidate</code> value will control only the caching of the page. It will not impact or change any cache settings for a fetch call.</p> <p><a href="https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config" target="_blank" rel="noopener noreferrer">Here is the full list of Route Segment Config Options<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> like <code>dynamic</code> and <code>revalidate</code>.</p> <div class="custom-block tip"><p class="custom-block-title">generateStaticParams</p> <p>Next.js also has a <code>generateStaticParams</code> method which is used to pre-generate the HTML for different dynamic routes. For example, if you had an endpoint <code>/[city]</code> which would display information
about various cities. Let's say that there were 20 possible city values that would be used most of the time. The <code>generateStaticParams</code> method could generate the 20 versions of the HTML based on those
20 names.</p> <p><a href="https://nextjs.org/docs/app/api-reference/functions/generate-static-params" target="_blank" rel="noopener noreferrer">https://nextjs.org/docs/app/api-reference/functions/generate-static-params<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h2 id="what-to-do-this-week"><a href="#what-to-do-this-week" class="header-anchor">#</a> What to do this week</h2> <div class="custom-block warning"><p class="custom-block-title">TODO Things to do before next week.</p> <ul><li>Read all the content from <code>Modules 12.1, 12.2, and 13.1</code>.</li> <li>Finish watching the <a href="https://www.youtube.com/watch?v=IkkzjbdIOBM&amp;list=PLyuRouwmQCjmMfs-HOsDGoaN6JiYrC6Ms" target="_blank" rel="noopener noreferrer">React in 2021 Video Tutorial Playlist<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/4/2024, 11:10:09 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/s2024/modules/react/week12/12.1/" class="prev">
        12.1: NextJS Intro
      </a></span> <span class="next"><a href="/s2024/modules/react/week13/13.1/">
        13.1: NextJS APIs, Actions, &amp; Middleware
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/s2024/assets/js/app.800de6cb.js" defer></script><script src="/s2024/assets/js/2.65264708.js" defer></script><script src="/s2024/assets/js/20.3f3d5c16.js" defer></script><script src="/s2024/assets/js/9.005e1e8c.js" defer></script>
  </body>
</html>
